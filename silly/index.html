<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>totally normal page</title>
  <meta name="description" content="Definitely not a silly page. Do not click." />
  <style>
    :root{
      --bg1:#ffecd1; --bg2:#ffd6e0; --bg3:#d0f4de; --bg4:#c9c9ff; --ink:#222; --ink2:#fff;
      --a1:#ff4d6d; --a2:#f9c74f; --a3:#43aa8b; --a4:#577590; --a5:#f9844a;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--ink);
      background: linear-gradient(120deg,var(--bg1),var(--bg2),var(--bg3),var(--bg4));
      background-size: 300% 300%;
      animation: wash 12s ease-in-out infinite;
      overflow-x:hidden;
    }
    @keyframes wash{ 0%{background-position:0 50%} 50%{background-position:100% 50%} 100%{background-position:0 50%} }
    .wrap{ min-height:100%; display:grid; place-items:center; padding:40px; }
    .card{
      background: rgba(255,255,255,.9);
      border: 2px solid rgba(0,0,0,.08);
      border-radius: 24px;
      box-shadow: 0 12px 40px rgba(0,0,0,.15);
      padding: 28px; text-align:center; max-width: 920px; width: min(92%, 920px);
      position: relative; overflow:hidden;
    }
    h1{font-size:clamp(28px,6vw,56px); margin:0 0 6px}
    p.lead{margin:0 0 18px; color:#444}
    .nose{ width:120px; height:120px; border-radius:999px; background: radial-gradient(circle at 40% 35%, #ff9aa2, #ff1654 60%);
      margin:12px auto; box-shadow: inset 0 -10px 20px rgba(0,0,0,.15), 0 10px 30px rgba(0,0,0,.2);
      animation: bob 2.4s ease-in-out infinite; cursor:pointer; }
    @keyframes bob { 0%,100%{ transform: translateY(0) } 50%{ transform: translateY(-6px) } }
    .btn{
      display:inline-block; padding:14px 18px; border-radius:14px; font-weight:800; letter-spacing:.3px;
      background: linear-gradient(135deg,var(--a1),var(--a2)); color:var(--ink2); text-decoration:none; border:0; cursor:pointer;
      box-shadow: 0 14px 30px rgba(0,0,0,.18);
    }
    .btn:active{ transform: translateY(1px) }
    .row{display:flex; gap:12px; justify-content:center; flex-wrap:wrap}
    .tiny{font-size:12px; color:#555; text-decoration:underline}
    canvas.confetti{ position:fixed; inset:0; pointer-events:none; z-index:0 }

    /* Gallery */
    .media { position: relative; margin-top: 16px; }
    .gallery { display: grid; grid-template-columns: repeat(6, minmax(0, 1fr)); gap: 10px; margin-top: 16px; }
    @media (max-width: 1000px) { .gallery { grid-template-columns: repeat(4, 1fr); } }
    @media (max-width: 700px) { .gallery { grid-template-columns: repeat(2, 1fr); } }
    .gallery img { width: 100%; aspect-ratio: 4/3; object-fit: cover; border-radius: 16px; border: 2px solid rgba(0,0,0,.08); cursor: zoom-in; transition: transform .25s, box-shadow .25s; }
    .gallery img:hover { transform: perspective(900px) rotateX(2deg) rotateY(-2deg) scale(1.02); box-shadow: 0 14px 30px rgba(0,0,0,.18); }
    @keyframes wiggle { 0%{transform:rotate(0)}25%{transform:rotate(2deg) scale(1.02)}50%{transform:rotate(-2deg) scale(1.02)}100%{transform:rotate(0)} }
    .gallery img.wiggle { animation: wiggle .6s ease-in-out; }

    /* Lightbox */
    .lightbox { position: fixed; inset:0; display:none; align-items:center; justify-content:center; background: rgba(0,0,0,.7); z-index: 20; }
    .lightbox.open { display:flex; }
    .lightbox img { max-width: 92vw; max-height: 88vh; border-radius: 14px; box-shadow: 0 20px 60px rgba(0,0,0,.5); }

    /* Tiny equalizer for jam */
    .eq { display:flex; gap:6px; justify-content:center; align-items:flex-end; height:28px; margin: 8px 0 0; opacity:.55 }
    .eq span { width:6px; background: linear-gradient(180deg, var(--a1), var(--a2)); height:8px; border-radius:2px; transform-origin: bottom; }
    .eq.playing span:nth-child(1){ animation: eq 700ms infinite }
    .eq.playing span:nth-child(2){ animation: eq 550ms infinite }
    .eq.playing span:nth-child(3){ animation: eq 650ms infinite }
    .eq.playing span:nth-child(4){ animation: eq 500ms infinite }
    .eq.playing span:nth-child(5){ animation: eq 800ms infinite }
    @keyframes eq { 0%{height:6px} 50%{height:26px} 100%{height:6px} }
  </style>
</head>
<body>
  <!-- Put files for this page only:
       silly/img/funny-1.jpg ... funny-6.jpg
       silly/music/yare yare.mp3  (note the space)
  -->
  <canvas class="confetti" id="confetti"></canvas>

  <div class="wrap">
    <div class="card">
      <h1>Welcome to the not secret page</h1>
      <p class="lead">Absolutely ordinary page. Nothing silly at all. Please do not press the nose.</p>
      <div id="nose" class="nose" title="Definitely not a button"></div>

      <div class="row" style="margin-top: 8px;">
        <button id="honk" class="btn">Honk</button>
        <button id="playjam" class="btn" style="background:linear-gradient(135deg,var(--a3),var(--a5))">Play jam</button>
        <a href="../" class="tiny">back to the nice site</a>
      </div>
      <div id="eq" class="eq" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span></div>

      <div class="media">
        <div class="gallery" id="gallery">
          <img loading="lazy" src="img/funny-1.jpg" alt="funny photo 1">
          <img loading="lazy" src="img/funny-2.jpg" alt="funny photo 2">
          <img loading="lazy" src="img/funny-3.jpg" alt="funny photo 3">
          <img loading="lazy" src="img/funny-4.jpg" alt="funny photo 4">
          <img loading="lazy" src="img/funny-5.jpg" alt="funny photo 5">
          <img loading="lazy" src="img/funny-6.jpg" alt="funny photo 6">
        </div>
      </div>
    </div>
  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" role="dialog" aria-modal="true" aria-label="Photo viewer">
    <img alt="enlarged funny photo" />
  </div>

  <!-- Local MP3 -->
  <audio id="jam" src="music/yare%20yare.mp3" preload="metadata"></audio>

  <script>
    // Confetti
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    let W, H; function size(){ W = canvas.width = innerWidth; H = canvas.height = innerHeight } size(); addEventListener('resize', size);
    const pieces = Array.from({length: 120}).map(()=>({ x: Math.random()*W, y: Math.random()*H, r: 6+Math.random()*10, vx: -1+Math.random()*2, vy: .8+Math.random()*1.5, c: `hsl(${Math.random()*360},85%,65%)`, a: Math.random()*Math.PI }));
    (function tick(){ ctx.clearRect(0,0,W,H); pieces.forEach(p=>{ p.x+=p.vx; p.y+=p.vy; p.a+=.06; if(p.y>H+20){ p.y=-20; p.x=Math.random()*W } ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.a); ctx.fillStyle=p.c; ctx.fillRect(-p.r*.6,-p.r*.3,p.r,p.r*.6); ctx.restore(); }); requestAnimationFrame(tick); })();

    // Honk synth
    let ac; function audio(){ if(!ac){ ac = new (window.AudioContext||window.webkitAudioContext)(); } return ac; }
    function honk(){
      const A = audio(), now = A.currentTime;
      const g = A.createGain(); g.gain.setValueAtTime(0.0001, now); g.gain.exponentialRampToValueAtTime(0.5, now+.02); g.gain.exponentialRampToValueAtTime(0.0001, now+.45);
      const lp = A.createBiquadFilter(); lp.type='bandpass'; lp.frequency.value = 600; lp.Q.value = 6;
      const o1 = A.createOscillator(); o1.type='square'; o1.frequency.value = 440; o1.detune.value = -30;
      const o2 = A.createOscillator(); o2.type='square'; o2.frequency.value = 440; o2.detune.value = 30;
      o1.connect(lp); o2.connect(lp); lp.connect(g); g.connect(A.destination);
      o1.start(now); o2.start(now); o1.stop(now+.5); o2.stop(now+.5);
    }
    function spin(){ document.querySelector('.card').animate([{transform:'rotate(0deg)'},{transform:'rotate(360deg)'}], {duration:700, easing:'ease-in-out'}); }
    document.getElementById('honk').addEventListener('click', ()=>{ honk(); spin(); });
    document.getElementById('nose').addEventListener('click', ()=>{ honk(); spin(); });
    document.addEventListener('keydown', e=>{ if(e.key.toLowerCase()==='h'){ honk(); spin(); } });

    // Lightbox
    const lb = document.getElementById('lightbox');
    const lbImg = lb.querySelector('img');
    document.querySelectorAll('.gallery img').forEach(img=>{
      img.addEventListener('click', ()=>{ lbImg.src = img.src; lb.classList.add('open'); });
    });
    lb.addEventListener('click', ()=> lb.classList.remove('open'));
    document.addEventListener('keydown', e=>{ if(e.key === 'Escape') lb.classList.remove('open'); });

    // Jam controls with wiggle
    const jam = document.getElementById('jam');
    const eq = document.getElementById('eq');
    const playBtn = document.getElementById('playjam');
    let wig = null;

    function startJam(){
      jam.play().then(()=>{
        eq.classList.add('playing');
        playBtn.textContent = 'Pause jam';
        if (!wig) wig = setInterval(()=>{
          const pics = Array.from(document.querySelectorAll('.gallery img'));
          if (!pics.length) return;
          const i = Math.floor(Math.random()*pics.length);
          pics[i].classList.add('wiggle');
          setTimeout(()=>pics[i].classList.remove('wiggle'), 500);
        }, 800);
      }).catch(()=>{});
    }
    function stopJam(){
      jam.pause();
      eq.classList.remove('playing');
      playBtn.textContent = 'Play jam';
      if (wig) { clearInterval(wig); wig = null; }
    }
    playBtn.addEventListener('click', ()=> jam.paused ? startJam() : stopJam());
  </script>
</body>
</html>
